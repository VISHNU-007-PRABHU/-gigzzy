{"version":3,"sources":["component/Admin/User/EmailSearch.js"],"names":["EmailSearch","props","_React$useState","React","useState","_React$useState2","Object","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","emails","setemails","_React$useState3","_React$useState4","dataSource","setdataSource","handleSearch","_ref","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_waioz_gigzzy_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","value","datas","_yield$client$query","data","wrap","_context","prev","next","onSelect","console","log","$regex","$options","Number","role","length","client","query","USER_EMAIL_QUERY","variables","fetchPolicy","sent","user_search","stop","_x","apply","this","arguments","_ref2","_callee2","pass_value","_context2","passedFunction","_x2","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","antd__WEBPACK_IMPORTED_MODULE_4__","onSearch","placeholder","allowClear","autoClearSearchValue","className","map","user","index","Option","key","_id"],"mappings":"8KAkEeA,UA7DK,SAAAC,GAAS,IAAAC,EAEGC,IAAMC,SAAS,IAFlBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAElBM,EAFkBH,EAAA,GAEVI,EAFUJ,EAAA,GAAAK,EAGWP,IAAMC,SAAS,IAH1BO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAGlBE,EAHkBD,EAAA,GAGNE,EAHMF,EAAA,GAKnBG,EAAY,eAAAC,EAAAT,OAAAU,EAAA,EAAAV,CAAAW,EAAAC,EAAAC,KAAG,SAAAC,EAAMC,GAAN,IAAAC,EAAAC,EAAAC,EAAA,OAAAP,EAAAC,EAAAO,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACdP,EACCZ,EAAUY,GAEVQ,EAASR,GAEbS,QAAQC,IAAIV,IACRC,EAAO,IACLrB,EAAMoB,OAAS,CAAEW,OAAQX,EAAOY,SAAU,KAChDX,EAAK,KAASY,OAAOjC,EAAMkC,MAC3Bb,EAAK,OAAW,IACZD,EAAMe,QAAU,GAXH,CAAAV,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EAYUS,IAAOC,MAAM,CAChCA,MAAOC,IACPC,UAAW,CAAEhB,KAAKF,GAClBmB,YAAa,aAfJ,OAAAlB,EAAAG,EAAAgB,KAYLlB,EAZKD,EAYLC,KAKRX,EAAcW,EAAOA,EAAKmB,YAAc,IAjB3B,yBAAAjB,EAAAkB,SAAAxB,MAAH,gBAAAyB,GAAA,OAAA9B,EAAA+B,MAAAC,KAAAC,YAAA,GAqBZnB,EAAQ,eAAAoB,EAAA3C,OAAAU,EAAA,EAAAV,CAAAW,EAAAC,EAAAC,KAAG,SAAA+B,EAAM7B,GAAN,IAAA8B,EAAA,OAAAlC,EAAAC,EAAAO,KAAA,SAAA2B,GAAA,cAAAA,EAAAzB,KAAAyB,EAAAxB,MAAA,OAEbnB,EAAUY,GAEN8B,EAAW,GACG,IAAflD,EAAMkC,KACLgB,EAAU,QAAY9B,EAEtB8B,EAAU,YAAgB9B,EAE9BpB,EAAMoD,eAAeF,GAVR,wBAAAC,EAAAR,SAAAM,MAAH,gBAAAI,GAAA,OAAAL,EAAAH,MAAAC,KAAAC,YAAA,GAYd,OACIO,EAAArC,EAAAsC,cAAA,WACID,EAAArC,EAAAsC,cAACC,EAAA,EAAD,CACI5B,SAAUA,EACV6B,SAAU5C,EACV6C,YAAa1D,EAAM0D,YACnBtC,MAAOb,EACPoD,YAAU,EACVC,sBAAoB,EACpBC,UAAU,UAETlD,EAAWmD,IAAI,SAACC,EAAMC,GACnB,OACIV,EAAArC,EAAAsC,cAACC,EAAA,EAAaS,OAAd,CAAqBC,IAAKH,EAAKI,KAC1BJ,EAAK/D,EAAMoB","file":"static/js/1.8a5b0b19.chunk.js","sourcesContent":["import React from 'react';\nimport { AutoComplete } from 'antd';\nimport { USER_EMAIL_QUERY  } from '../../../graphql/Admin/user';\nimport { client } from \"../../../apollo\";\n\nconst EmailSearch = props => {\n    \n    const [emails, setemails] = React.useState('');\n    const [dataSource, setdataSource] = React.useState([]);\n    \n    const handleSearch = async value => {\n        if(value){\n            setemails(value);\n        }else{\n            onSelect(value);\n        }\n        console.log(value);\n        var datas ={}\n        datas[props.value] = { $regex: value ,$options: 'i'}\n        datas['role']=Number(props.role);\n        datas['delete']=0;\n        if (value.length >= 1) {\n            const { data } = await client.query({\n                query: USER_EMAIL_QUERY,\n                variables: { data:datas },\n                fetchPolicy: 'no-cache',\n            });\n            setdataSource(data ? data.user_search : [])\n        }\n    };\n\n    const onSelect = async value => {\n      \n        setemails(value);\n       \n        var pass_value={}\n        if(props.role === 1){\n            pass_value['user_id']=value;\n        }else{\n            pass_value['provider_id']=value;\n        }\n        props.passedFunction(pass_value);\n    }\n    return (\n        <div>\n            <AutoComplete\n                onSelect={onSelect}\n                onSearch={handleSearch}\n                placeholder={props.placeholder}\n                value={emails}\n                allowClear\n                autoClearSearchValue\t\n                className=\"border\"\n            >\n                {dataSource.map((user, index) => {\n                    return (\n                        <AutoComplete.Option key={user._id}>\n                            {user[props.value]}\n                        </AutoComplete.Option>\n                    );\n                })}\n            </AutoComplete>\n        </div>\n    )\n}\n\nexport default EmailSearch;\n"],"sourceRoot":""}